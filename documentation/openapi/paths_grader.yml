assignmentData:
  get:
    security:
      - hub_auth:
        - instructor
        - tutor
        - student
    summary: Return the data of an exercies or other file in the assignment
    tags:
      - "Assignments"
    parameters:
    - name: lect_id
      in: path
      description: ID of the lecture
      required: true
      example: 1
      schema:
        type: integer
        format: int64
    - name: a_id
      in: path
      description: ID of the assignment in the lecture
      required: true
      example: 2
      schema:
        type: integer
        format: int64
    - name: file_id
      in: path
      description: id of the exercise of other file in the assignment
      required: true
      example: 42
      schema:
        type: integer
        format: int64
    responses:
      200:
        description: OK
        content:
          application/octet-stream:
            schema:
              type: string
              format: binary
              example: "011001110111001001100001011001000110010101110010"
      403:
        description: Unautorized
      404:
        description: Lecture id, assignment id or file id not found
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"
      500:
        description: Internal server error
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"


# grader has no query params for get
assignmentsById:
  put:
    security:
      - hub_auth:
        - instructor
        - tutor
    summary: Update an existing assignment (also handles release)
    tags:
    - Assignments
    parameters:
    - name: lect_id
      in: path
      description: ID of the lecture
      required: true
      example: 1
      schema:
        type: integer
        format: int64
    - name: a_id
      in: path
      description: ID of the assignment in the lecture
      required: true
      example: 2
      schema:
        type: integer
        format: int64
    requestBody:
      description: The parameters of the assignment that should be updated.
      required: true
      content:
        application/json:
          schema:
            $ref: './schemas.yml#/components/schemas/Assignment'
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/Assignment"
      403:
        description: Unautorized
      404:
        description: Lecture id or assignment id not found.
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"
      500:
        description: Internal server error
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"
  get:
    security:
      - hub_auth:
        - instructor
        - tutor
        - student
    summary: "Request the assignment to be fetched"
    tags: 
    - "Assignments"
    parameters:
    - name: lect_id
      in: path
      description: ID of the lecture
      required: true
      example: 1
      schema:
        type: integer
        format: int64
    - name: a_id
      in: path
      description: ID of the assignment in the lecture
      required: true
      example: 2
      schema:
        type: integer
        format: int64
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/Assignment"
      403:
        description: Unautorized
      404:
        description: Lecture id or assignment id not found
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"
      500:
        description: Internal server error
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"
  delete:
    security:
      - hub_auth:
        - instructor
        - tutor
    summary: Delete an existing assignment
    tags:
    - Assignments
    parameters:
    - name: lect_id
      in: path
      description: ID of the lecture
      required: true
      example: 1
      schema:
        type: integer
        format: int64
    - name: a_id
      in: path
      description: ID of the assignment in the lecture
      required: true
      example: 2
      schema:
        type: integer
        format: int64
    responses:
      200:
        description: OK
      403:
        description: Unautorized
      404:
        description: Lecture id or assignment id not found.
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"
      500:
        description: Internal server error
        content: 
          application/json:
            schema:
              $ref: "./schemas.yml#/components/schemas/ErrorMessage"

